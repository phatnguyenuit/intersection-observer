<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interaction observer</title>
    <style>
      * {
        box-sizing: border-box;
      }

      #root {
        height: 100vh;
      }

      .item {
        height: 10%;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <script>
      function generateItems(page = 0, pageSize = 10) {
        return new Array(pageSize).fill('').map((_, index) => {
          const id = (page + 1) * index + 1;
          return `Paragraph id: ${id}`;
        });
      }

      function fetchItems(page = 0, pageSize = 10) {
        return new Promise((resolve) =>
          setTimeout(() => {
            resolve(generateItems(page, pageSize));
          }, 3000),
        );
      }

      function getDocHeight() {
        return Math.max(
          document.body.scrollHeight,
          document.documentElement.scrollHeight,
          document.body.offsetHeight,
          document.documentElement.offsetHeight,
          document.body.clientHeight,
          document.documentElement.clientHeight,
        );
      }

      const root = document.getElementById('root');
      const items = generateItems();
      items.forEach((item) => {
        const p = document.createElement('p');
        p.innerHTML = item;
        p.classList.add('item');
        root.appendChild(p);
      });

      window.addEventListener('scroll', function () {
        console.log('Scrolling....');
      });
    </script>
  </body>
</html>

<!-- Reference: https://stackoverflow.com/questions/22268079/how-to-do-infinite-scrolling-with-javascript-only-without-jquery -->
